// SPDX-FileCopyrightText: 2023 Shun Sakai
//
// SPDX-License-Identifier: CC-BY-4.0

= Usage
:css-color-4: https://www.w3.org/TR/css-color-4/

== Basic usage

.Encode a string in a QR code
[source,shell]
----
qrtool encode "QR code" > output.png
----

.Generate this image
image::basic.png[Output]

.Decode a QR code from this image
[source,shell]
----
qrtool decode output.png
----

.Output
....
QR code
....

== SVG generation

Use `-t` option to change the format of the generated image. The format is
`png` (default), `svg` or `terminal` (to the terminal as UTF-8 string).

[source,shell]
----
qrtool encode -o output.svg -t svg "QR code"
----

.Generate this image
image::decode.svg[Output]

== Micro QR code generation

Use `--variant` option to change the variant of the generated QR code. The
variant is `normal` (default) or `micro` (Micro QR code).

[source,shell]
----
qrtool encode -v 3 --variant micro "QR code" > output.png
----

.Generate this image
image::micro.png[Output]

== Colored output

Use `--foreground` and `--background` options to change the foreground and
background colors of the generated image. These options takes a
{css-color-4}[CSS color string] such as `brown`, `#a52a2a` or `rgb(165 42 42)`.
The default foreground color is black and the background color is white of
CSS's named colors.

[source,shell]
----
qrtool encode --foreground brown "QR code" > output.png
----

.Generate this image
image::fg.png[Output]

== Generate shell completion

`--generate-completion` option generates shell completions to stdout.

.The following shells are supported
* `bash`
* `elvish`
* `fish`
* `nushell`
* `powershell`
* `zsh`

.Example
[source,shell]
----
qrtool --generate-completion bash > qrtool.bash
----

== Integration with other programs

Both `encode` and `decode` can read from stdin and output to stdout.

.The following example, the encoded result is saved as a JPEG XL image
[source,shell]
----
cat Cargo.toml | qrtool encode | magick png:- output.jxl
----

.The following example, the decoded result is displayed by `bat`
[source,shell]
----
magick output.jxl png:- | qrtool decode | bat -l toml
----
